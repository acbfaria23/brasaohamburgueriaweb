@using Microsoft.AspNet.Identity;
@functions{
    public string GetAntiForgeryToken()
    {
        string cookieToken, formToken;
        AntiForgery.GetTokens(null, out cookieToken, out formToken);
        return cookieToken + ":" + formToken;
    }
}
<script src="~/app/PedidosRealizadosForm/prController.js"></script>
<div ng-controller="prController" ng-init="init('@User.Identity.GetUserName()', '@GetAntiForgeryToken()')">
    <div class="alert alert-danger alert-dismissible fade in {{mensagem.erro ? '' : 'hidden'}}" role="alert" style="margin-top: 20px;">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>
        {{mensagem.erro}}
        <br />
    </div>
    <div cg-busy="{promise:promisesLoader,backdrop:false,delay:10,minDuration:1000}"></div>
    <form role="form" id="formPedido" class="form-horizontal" ng-submit="submitForm()">
        <br />
        <h3>Pedidos realizados</h3>
        <hr />
        <div class="row">
            <div class="col-sm-1">
                <label for="dataInicio" class="control-label">Início</label>
            </div>
            <div class="col-sm-3">
                <div class='input-group date' id='dataInicio'>
                    <input type='text' required class="form-control" maxlength="10" ng-model="filtros.dataInicio" />
                    <span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </span>
                </div>
            </div>
            <div class="col-sm-2">
                <div class='input-group date' id='horaInicio'>
                    <input type='text' class="form-control" ng-model="filtros.horaInicio" />
                    <span class="input-group-addon">
                        <span class="glyphicon glyphicon-time"></span>
                    </span>
                </div>
            </div>
        </div>
        <br />
        <div class="row">
            <div class="col-sm-1">
                <label for="dataInicio" class="control-label">Fim</label>
            </div>
            <div class="col-sm-3">
                <div class='input-group date' id='dataFim'>
                    <input type='text' required class="form-control" maxlength="10" ng-model="filtros.dataFim" />
                    <span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </span>
                </div>
            </div>
            <div class="col-sm-2">
                <div class='input-group date' id='horaFim'>
                    <input type='text' class="form-control" ng-model="filtros.horaFim" />
                    <span class="input-group-addon">
                        <span class="glyphicon glyphicon-time"></span>
                    </span>
                </div>
            </div>
            <div class="col-sm-2">
                <button type="button" class="btn btn-success" ng-click="getPedidosRealizados()">
                    <span class="glyphicon glyphicon-search" aria-hidden="true"></span>Consultar
                </button>
            </div>
        </div>
        <hr />
        <div ng-if="rowCollection.length <= 0">
            <small>Nenhum item encontrado</small>
        </div>
        <table st-table="displayedCollection" st-safe-src="rowCollection" class="table table-striped" ng-if="rowCollection.length > 0">
            <thead>
                <tr>
                    <th st-sort="codPedido">Nº Pedido</th>
                    <th st-sort="dataHora">Data/Hora</th>
                    <th st-sort="cliente">Cliente</th>
                    <th st-sort="formaPagamento">Forma pagamento</th>
                    <th st-sort="valorTotal">Valor total</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="ped in rowCollection">
                    <td>{{ped.codPedido}}</td>
                    <td>{{ped.dataPedido | date:'dd/MM/yyyy HH:mm'}}</td>
                    <td>{{ped.dadosCliente.nome}}</td>
                    <td>{{ped.formaPagamento}}</td>
                    <td>{{ped.valorTotal | currency: "R$ "}}</td>
                    @*<td>
                        <button type="button" ng-click="removeItem(row)" class="btn btn-sm btn-warning">
                            <i class="glyphicon glyphicon-list">
                            </i>
                        </button>
                    </td>*@
                </tr>
            </tbody>
        </table>
    </form>
</div>